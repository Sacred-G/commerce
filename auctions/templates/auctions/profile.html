{% extends "auctions/layout.html" %}
{% load static %}


{% block body %}
<div class="container">
    <h2>User Profile</h2>
    <div class="row">
        <div class="col-md-4">
            <img src="{{ user.profile.profile_picture.url|default:'media/profile_pics/steven.jpg' }}" class="img-fluid rounded-circle mb-3" alt="{{ user.username }}">
            <h3>{{ user.username }}</h3>
            <p>{{ user.profile.bio }}</p>
        </div>
        <div class="col-md-8">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {{ user_form.as_p }}
                {{ profile_form.as_p }}
                <button type="submit" class="btn btn-primary">Update Profile</button>
            </form>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col-md-6">
            <h4>Auction Statistics</h4>
            <ul>
                <li>Total Auctions Won: {{ user.profile.total_auctions_won }}</li>
                <li>Total Auctions Created: {{ user.profile.total_auctions_created }}</li>
                <li>User Rating: {{ user.profile.rating|floatformat:1 }} / 5.0</li>
            </ul>
        </div>
        <div class="col-md-6">
            <h4>Recent Activity</h4>
            <!-- You can add a list of recent bids or created auctions here -->
        </div>
    </div>
</div>
{% endblock %}